<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="μ†μ‰½κ² ν¬νΈν΄λ¦¬μ¤λ¥Ό κ΄€λ¦¬ν•κ³  μμµλ¥ μ„ μ¶”μ ν•μ„Έμ”. κ±°λ λ‚΄μ—­ μ¶”κ°€, μ‹¤ν„ μ†μµμ„ λ°μν• ν‰λ‹¨κ°€ κ³„μ‚°, μ§κ΄€μ μΈ ν¬νΈν΄λ¦¬μ¤ κµ¬μ„± ν„ν™© λ¶„μ„, κ·Έλ¦¬κ³  ν¬νΈν΄λ¦¬μ¤ μ €μ¥/λ¶λ¬μ¤κΈ° κΈ°λ¥μ„ λ¨λ‘ ν•κ³³μ—μ„ κ²½ν—ν•  μ μμµλ‹λ‹¤.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="naver-site-verification" content="d095e22faf2f97691218fc82f14cfed0f5bafeca" />
    <title>μ£Όμ‹ ν‰λ‹¨κ°€ κ³„μ‚°κΈ°</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>π“ μ£Όμ‹ ν‰λ‹¨κ°€ κ³„μ‚°κΈ°</h1>
            <p>μ£Όμ‹ κ±°λ λ‚΄μ—­μ„ μ…λ ¥ν•μ—¬ ν‰λ‹¨κ°€λ¥Ό κ³„μ‚°ν•κ³  ν¬νΈν΄λ¦¬μ¤λ¥Ό κ΄€λ¦¬ν•μ„Έμ”</p>
        </header>

        <main>
            <div class="input-section">
                <h2>κ±°λ λ‚΄μ—­ μ¶”κ°€</h2>
                <form id="transactionForm" class="transaction-form">
                    <div class="form-group">
                        <label for="stockName">μΆ…λ©λ…</label>
                        <input type="text" id="stockName" list="stockNames" placeholder="μ: μ—”λΉ„λ””μ•„" required>
                        <datalist id="stockNames"></datalist>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="quantity">μλ‰</label>
                            <input type="number" id="quantity" placeholder="μ£Ό" min="1" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="price">λ‹¨κ°€</label>
                            <input type="number" id="price" placeholder="λ‹¬λ¬" min="0.01" step="0.01" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="transactionType">κ±°λ μ ν•</label>
                        <select id="transactionType" required>
                            <option value="buy">λ§¤μ</option>
                            <option value="sell">λ§¤λ„</option>
                        </select>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn-primary">κ±°λ μ¶”κ°€</button>
                        <button type="button" id="openBulkTransactionModal" class="btn-secondary">λ€λ‰ κ±°λ λ‚΄μ—­ μ¶”κ°€</button>
                    </div>
                </form>
            </div>

            <div class="portfolio-section">
                <h2>ν¬νΈν΄λ¦¬μ¤ ν„ν™©</h2>
                <div id="portfolioSummary" class="portfolio-summary">
                    <div class="summary-card">
                        <h3>μ΄ λ³΄μ  μΆ…λ©</h3>
                        <span id="totalStocks">0</span>κ°
                    </div>
                    <div class="summary-card">
                        <h3>μ΄ ν¬μκΈμ•΅</h3>
                        <span id="totalInvestment">0</span>λ‹¬λ¬
                    </div>
                    <div class="summary-card">
                        <h3>μ΄ ν‰κ°€κΈμ•΅</h3>
                        <span id="totalValue">0</span>λ‹¬λ¬
                    </div>
                    <div class="summary-card">
                        <h3>μμµλ¥ </h3>
                        <span id="profitRate">0</span>%
                    </div>
                </div>
            </div>

            <div class="stocks-section">
                <h2 class="section-title-with-checkbox">λ³΄μ  μΆ…λ© μƒμ„Έ
                    <div class="form-group pnl-checkbox-group">
                        <label for="includeRealizedPnlInAvgCost" style="display: flex; align-items: center; gap: 8px; margin-bottom: 0;">
                            <input type="checkbox" id="includeRealizedPnlInAvgCost" style="margin-right: 8px;">
                            μ‹¤ν„ μ†μµ ν¬ν•¨ν•μ—¬ ν‰λ‹¨κ°€ κ³„μ‚° 
                            <span class="help-icon" onclick="event.stopPropagation(); stockCalculator.showPnlCalculationExplanation();">?</span>
                        </label>
                    </div>
                </h2>
                <div id="stocksList" class="stocks-list">
                    <div class="empty-state">
                        <p>μ•„μ§ κ±°λ λ‚΄μ—­μ΄ μ—†μµλ‹λ‹¤.</p>
                        <p>μ„μ—μ„ μ²« λ²μ§Έ κ±°λλ¥Ό μ¶”κ°€ν•΄λ³΄μ„Έμ”!</p>
                    </div>
                </div>
            </div>

            <div class="chart-section">
                <h2>ν¬νΈν΄λ¦¬μ¤ κµ¬μ„±</h2>
                <div class="chart-content">
                    <div class="chart-container">
                        <canvas id="portfolioChart"></canvas>
                    </div>
                    <div id="portfolioPercentages" class="portfolio-percentages">
                        <!-- μΆ…λ©λ³„ νΌμ„ΌνΈ λ©λ΅μ΄ μ—¬κΈ°μ— λ™μ μΌλ΅ μ¶”κ°€λ©λ‹λ‹¤ -->
                    </div>
                </div>
            </div>

            <div class="portfolio-actions">
                <button id="savePortfolio" class="btn-primary">ν¬νΈν΄λ¦¬μ¤ μ €μ¥</button>
                <input type="file" id="loadPortfolioInput" accept=".json" style="display: none;">
                <button id="loadPortfolio" class="btn-primary">ν¬νΈν΄λ¦¬μ¤ λ¶λ¬μ¤κΈ°</button>
                <button id="openHelpModal" class="btn-secondary">λ„μ›€λ§</button>
                <button id="contactUsBtn" class="btn-secondary">λ¬Έμν•κΈ°</button>
            </div>
        </main>
    </div>

    <!-- κ±°λ λ‚΄μ—­ λ¨λ‹¬ -->
    <div id="transactionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">κ±°λ λ‚΄μ—­</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div id="modalSummary" class="modal-summary"></div>
                <div id="modalTransactions" class="modal-transactions"></div>
            </div>
        </div>
    </div>

    <!-- λ€λ‰ κ±°λ λ‚΄μ—­ λ¨λ‹¬ -->
    <div id="bulkTransactionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>λ€λ‰ κ±°λ λ‚΄μ—­ μ¶”κ°€</h2>
                <span class="close" id="closeBulkTransactionModal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="bulkStockName">μΆ…λ©λ…</label>
                    <input type="text" id="bulkStockName" list="stockNames" placeholder="μ: μ—”λΉ„λ””μ•„" required>
                </div>
                <textarea id="bulkTransactionText" placeholder="μ—¬κΈ°μ— κ±°λ λ‚΄μ—­μ„ λ¶™μ—¬λ„£μΌμ„Έμ”. (ν† μ¤μ¦κ¶ μ£Όλ¬Έ λ‚΄μ—­μ„ λ³µμ‚¬/λ¶™μ—¬λ„£κΈ° ν•μ„Έμ”.) 
(μμ‹:
8.19
νλ§¤ 6μ£Ό
μ£Όλ‹Ή $77.76

6.16
νλ§¤ 4μ£Ό
μ£Όλ‹Ή $72.51

5.14
κµ¬λ§¤ 8μ£Ό
μ£Όλ‹Ή $68.11

5.14
κµ¬λ§¤ 8μ£Ό
μ£Όλ‹Ή $70.71)" rows="15"></textarea>
                <button id="addBulkTransactions" class="btn-primary">λ€λ‰ κ±°λ μ¶”κ°€</button>
            </div>
        </div>
    </div>

    <!-- ν‰λ‹¨κ°€ κ³„μ‚° μ„¤λ… λ¨λ‹¬ -->
    <div id="pnlExplanationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ν‰λ‹¨κ°€ κ³„μ‚° λ°©μ‹ μ„¤λ…</h2>
                <span class="close" id="closePnlExplanationModal">&times;</span>
            </div>
            <div class="modal-body" id="pnlExplanationModalBody">
                <!-- μ„¤λ… λ‚΄μ©μ΄ μ—¬κΈ°μ— μ‚½μ…λ©λ‹λ‹¤ -->
            </div>
        </div>
    </div>

    <!-- λ„μ›€λ§ λ¨λ‹¬ -->
    <div id="helpModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>λ„μ›€λ§</h2>
                <span class="close" id="closeHelpModal">&times;</span>
            </div>
            <div class="modal-body" id="helpModalBody">
                <!-- λ„μ›€λ§ λ‚΄μ©μ΄ μ—¬κΈ°μ— μ‚½μ…λ©λ‹λ‹¤ -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
